{% extends 'base.html' %}

{% block title %}Feedback - Restaurant{% endblock %}

{% block content %}
<div class="container">
    <h2>Give Your Feedback</h2>

    {% if message %}
        <p style="color: green;">{{ message }}</p>
    {% elif error %}
        <p style="color: red;">{{ error }}</p>
    {% endif %}

<form method="POST" action="{% url 'restaurant_app:feedback' %}">
    {% csrf_token %}
    
    <label for="user_name">Name:</label>
    <input type="text" id="user_name" name="user_name" required>

    <label for="description">Feedback:</label>
    <textarea id="description" name="description" required></textarea>

    <label for="rating">Rating (1-5):</label>
    <input type="number" id="rating" name="rating" min="1" max="5" required>

    <button type="submit">Submit Feedback</button>
</form>

    <h3>Customer Feedback</h3>
    {% for feedback in feedback_list %}
        <div class="feedback-box">
            <p><strong>{{ feedback.user_name }}</strong> (Rating: {{ feedback.rating }}/5)</p>
            <p>{{ feedback.description }}</p>
        </div>
    {% empty %}
        <p>No feedback yet. Be the first to share your thoughts!</p>
    {% endfor %}
</div>
{% endblock %}
